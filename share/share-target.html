<!DOCTYPE html><html lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><title>Block Garden - Load Shared Game Save</title><base href="/block-garden/"><meta charset="utf-8"><meta content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport"><meta name="description" content="Load Shared Game Save - Block Garden - A 3D sandbox exploration and farming game. Explore procedurally generated worlds, dig for resources, and cultivate a variety of plants."><meta name="theme-color" content="#000000"><link rel="manifest" href="manifest.json"><link rel="icon" href="assets/icons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png"><style>*{box-sizing:border-box;margin:0;padding:0}body{align-items:center;background:#000;color:#fff;display:flex;font-family:Arial,sans-serif;height:100dvh;height:100vh;justify-content:center}.container{max-width:400px;text-align:center}.spinner{animation:pulseSpin 1.8s infinite;height:80px;margin-bottom:2rem;margin-left:auto;margin-right:auto;width:80px}.spinner .pixel{background:#a8e6a1;height:20px;position:absolute;width:20px}.pixel-one{left:30px;top:0}.pixel-two{left:10px;top:10px}.pixel-three{left:50px;top:10px}.pixel-four{left:0;top:30px}.pixel-five{left:60px;top:30px}.pixel-six{left:10px;top:50px}.pixel-seven{left:50px;top:50px}.pixel-eight{left:30px;top:60px}@keyframes pulseSpin{0%{filter:opacity(.5)}50%{filter:opacity(1)}to{filter:opacity(.5)}}h1{font-size:1.5rem;margin-bottom:.5rem}p{font-size:1rem;line-height:1.5;opacity:.8}.error{background:hsla(0,100%,71%,.1);color:#ff6b6b}.error,.success{border-radius:8px;display:none;margin-top:1rem;padding:1rem}.success{background:rgba(81,207,102,.1);color:#51cf66}</style></head><body> <div class="container"> <div class="spinner"> <div class="pixel pixel-one"></div> <div class="pixel pixel-two"></div> <div class="pixel pixel-three"></div> <div class="pixel pixel-four"></div> <div class="pixel pixel-five"></div> <div class="pixel pixel-six"></div> <div class="pixel pixel-seven"></div> <div class="pixel pixel-eight"></div> </div> <h1>Loading Game Save</h1> <p> Processing your shared save file. You'll be redirected to Block Garden shortly... </p> <div class="error" id="error"></div> <div class="success" id="success"></div> </div> <script type="module">import{storeSharedSave}from"./src/state/shareTarget.mjs";(async()=>{try{const e=new MessageChannel,r=new Promise((r,o)=>{const t=setTimeout(()=>o(new Error("Timeout waiting for shared file from Service Worker")),5e3);e.port1.onmessage=e=>{clearTimeout(t),r(e.data)}});if(!navigator.serviceWorker||!navigator.serviceWorker.controller)throw new Error("Service Worker not available");navigator.serviceWorker.controller.postMessage({type:"REQUEST_SHARED_SAVE"},[e.port2]);const{saveData:o,fileName:t}=await r;if(!o)throw new Error("No shared save data received");await storeSharedSave(o,t);const a=document.getElementById("success");a.textContent="Save file received! Opening Block Garden...",a.style.display="block",setTimeout(()=>{window.location.href="./"},1500)}catch(e){console.error("Error processing shared save:",e);const r=document.getElementById("error");r.textContent=`Error: ${e.message}. Please try again.`,r.style.display="block",setTimeout(()=>{window.location.href="./"},3e3)}})();</script> </body></html>